def findLocalRepo = {
	def parent = initscript.sourceFile.parentFile
	def count = 3
	while (count-- > 0 && parent) {
		def found = new File(parent, "ivy")
		if (found.exists()) {
			return found
		}
		parent = parent.parentFile
	}
	return new File(parent, "ivy")
}

def repos = {
	ivy {
		name "axelor-internal"
		url "file://${findLocalRepo()}"
	}
	maven {
		name "axelor-nexus"
		url	"http://repository.axelor.com/nexus/content/groups/public/"
	}
	jcenter()
	mavenCentral()
	mavenLocal()
}

ext.repos = repos

allprojects {
	repositories repos
	buildscript {
		repositories repos
		dependencies {
			classpath fileTree(dir: "${initscript.sourceFile.parentFile}/libs", include: '*.jar')
		}
	}
}
